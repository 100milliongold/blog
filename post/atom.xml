<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://100milliongold.github.io/blog/post</id>
    <title>One hundred million gold Blog Blog</title>
    <updated>2023-02-21T17:06:58.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://100milliongold.github.io/blog/post"/>
    <subtitle>One hundred million gold Blog Blog</subtitle>
    <icon>https://100milliongold.github.io/blog/img/h3jbaZKM.ico</icon>
    <rights>Copyright © 2023 Facebook, Inc.</rights>
    <entry>
        <title type="html"><![CDATA[Bun-으로-React-시작하기]]></title>
        <id>https://100milliongold.github.io/blog/post/2023/02/21/Bun-으로-React-시작하기</id>
        <link href="https://100milliongold.github.io/blog/post/2023/02/21/Bun-으로-React-시작하기"/>
        <updated>2023-02-21T17:06:58.000Z</updated>
        <summary type="html"><![CDATA[- 출처//blog.logrocket.com/getting-started-bun-react/]]></summary>
        <content type="html"><![CDATA[<ul><li>출처 : <a href="https://blog.logrocket.com/getting-started-bun-react/" target="_blank" rel="noopener noreferrer">https://blog.logrocket.com/getting-started-bun-react/</a></li></ul><h1>Bun과 React 시작하기</h1><p>JavaScript 런타임 환경은 내장 라이브러리 및 개체에 대한 액세스를 제공하여 프로그램이 외부 세계와 상호 작용할 수 있도록 합니다. 간단히 말해서 런타임 환경은 프로그램을 실행할 수 있는 환경입니다.</p><p><a href="https://bun.sh/" target="_blank" rel="noopener noreferrer">Bun은</a> 비교적 새롭고 빠른 올인원 JavaScript 런타임입니다. 이 기사에서는 Bun에 대한 몇 가지 흥미로운 사실을 살펴보고 Bun이 다른 JavaScript 런타임과 어떻게 비교되는지 평가하고 Bun을 사용하여 React 프로젝트를 부트스트랩하는 방법을 알아봅니다. 마지막으로 몇 가지 속도 테스트를 실행하여 Bun이 웹사이트에서 주장하는 것처럼 정말 빠른지 확인합니다!</p><p><em>목차:</em></p><ul><li><a href="#%EB%B2%88%EC%9D%80-%EB%AC%B4%EC%97%87%EC%9E%85%EB%8B%88%EA%B9%8C">번은 무엇입니까?</a></li><li><a href="#bun%EC%9C%BC%EB%A1%9C-%EB%AC%B4%EC%97%87%EC%9D%84-%ED%95%A0-%EC%88%98-%EC%9E%88%EC%8A%B5%EB%8B%88%EA%B9%8C">Bun으로 무엇을 할 수 있습니까?</a><ul><li><a href="#%ED%8A%B8%EB%9E%9C%EC%8A%A4%ED%8C%8C%EC%9D%BC%EB%A7%81">트랜스파일링</a></li><li><a href="#%EC%9E%91%EC%97%85-%EC%8B%A4%ED%96%89-%EC%A4%91">작업 실행 중</a></li><li><a href="#%ED%8C%A8%ED%82%A4%EC%A7%80-%EA%B4%80%EB%A6%AC">패키지 관리</a></li></ul></li><li><a href="#bun%EC%9D%80-nodejs-%EB%B0%8F-deno%EC%99%80-%EC%96%B4%EB%96%BB%EA%B2%8C-%EB%8B%A4%EB%A6%85%EB%8B%88%EA%B9%8C">Bun은 Node.js 및 Deno와 어떻게 다릅니까?</a><ul><li><a href="#%EC%86%8D%EB%8F%84">속도</a></li><li><a href="#%EC%B6%94%EA%B0%80-%EA%B8%B0%EB%8A%A5">추가 기능</a></li><li><a href="#%ED%98%B8%ED%99%98%EC%84%B1">호환성</a></li></ul></li><li><a href="#bun%EC%9C%BC%EB%A1%9C-react-%EC%95%B1-%EB%A7%8C%EB%93%A4%EA%B8%B0">Bun으로 React 앱 만들기</a></li><li><a href="#%EC%86%8D%EB%8F%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-bun-vs-nodejs">속도 테스트: Bun vs Node.js</a></li><li><a href="#%EC%86%8D%EB%8F%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-bun-vs-create-react-app">속도 테스트: Bun vs Create React App</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="번은-무엇입니까">번은 무엇입니까?<a href="#번은-무엇입니까" class="hash-link" aria-label="번은 무엇입니까?에 대한 직접 링크" title="번은 무엇입니까?에 대한 직접 링크">​</a></h2><p>Bun은 기본 번들러, 트랜스파일러, 작업 실행기 및 npm 클라이언트를 포함하는 새롭고 가벼운 JavaScript 런타임입니다. JavaScript 및 TypeScript 프로젝트를 번들, 트랜스파일, 설치 및 실행할 수 있습니다.</p><p>Bun은 블록의 새로운 아이입니다. 그것은 속도에 관한 것이며 현재 최고의 JavaScript 런타임 자리에 대한 강력한 경쟁자입니다. Node.js 및 Deno보다 더 기능이 풍부하고 빠르다고 주장합니다. Jarred Sumner는 2021년에 대중에게 공개된 Bun을 만들었습니다. 그 이후로 Github에서 별 30,000개가 넘는 별을 빠르게 축적했습니다.</p><p>Bun에는 다음과 같은 다양한 기능이 포함되어 있습니다.</p><ul><li>Fetch, WebSocket 및 ReadableStream과 같은 웹 API 포함</li><li>모든 파일을 트랜스파일하므로 TypeScript와 JSX가 모두 작동합니다.</li><li>npm 패키지를 사용할 수 있음을 의미하는 Node.js 모듈 확인 알고리즘을 구현합니다.</li><li>초고속 SQLite3 클라이언트 포함</li><li>대부분의 Node.js API를 구현합니다. 즉, 많은 기본 Node 모듈이 간단히 작동합니다.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bun으로-무엇을-할-수-있습니까">Bun으로 무엇을 할 수 있습니까?<a href="#bun으로-무엇을-할-수-있습니까" class="hash-link" aria-label="Bun으로 무엇을 할 수 있습니까?에 대한 직접 링크" title="Bun으로 무엇을 할 수 있습니까?에 대한 직접 링크">​</a></h2><p>Bun의 웹 사이트에서는 이를 " <a href="https://bun.sh/" target="_blank" rel="noopener noreferrer">빠른 올인원 JavaScript 런타임"이라고 합니다.</a> ” 그렇다면 Bun으로 무엇을 할 수 있습니까? 한 번 보자.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="트랜스파일링">트랜스파일링<a href="#트랜스파일링" class="hash-link" aria-label="트랜스파일링에 대한 직접 링크" title="트랜스파일링에 대한 직접 링크">​</a></h3><p>Bun의 트랜스파일러는 TypeScript, JSX, 심지어 바닐라 JavaScript까지 변환하는 환상적인 기능입니다. 결국 일반 JavaScript를 트랜스파일해야 하는 이유는 무엇입니까?</p><p>좋은 질문입니다. Bun의 성능 향상 기능 중 하나가 작동하는 곳입니다. Bun은 JavaScript가 실행되기 전에 자동으로 최적화합니다.</p><p>변환 기능은 아직 개발 중이지만 개발자는 향후 JavaScript에 최적화된 바이너리 형식을 포함할 계획입니다. 이러한 최적화는 에지 앱 및 기타 단기 프로세스에 중요한 영향을 미칠 수 있습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="작업-실행-중">작업 실행 중<a href="#작업-실행-중" class="hash-link" aria-label="작업 실행 중에 대한 직접 링크" title="작업 실행 중에 대한 직접 링크">​</a></h3><p>Bun의 태스크 러너는 Node.js와 비슷하지만 눈에 띄게 빠릅니다. Node 프로젝트에서 Bun의 작업 관리자를 사용하여 속도를 활용할 수 있습니다. 태스크 러너는 필수 도구입니다. Node/npm과 Deno 모두 기본적으로 하나를 포함합니다. 또한 Bun의 작업 관리자는 run 하위 명령 없이 거의 모든 스크립트를 실행할 수 있는 반면 npm은 몇 가지 스크립트 이름에 대해서만 실행할 수 있습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="패키지-관리">패키지 관리<a href="#패키지-관리" class="hash-link" aria-label="패키지 관리에 대한 직접 링크" title="패키지 관리에 대한 직접 링크">​</a></h3><p>Bun의 패키지 관리자는 성능면에서 뛰어납니다. 사실 Bun은 <a href="https://pnpm.io/" target="_blank" rel="noopener noreferrer">pnpm</a> 이나 Yarn보다 빨라야 하며 그 이유는 다음과 같습니다.</p><ul><li><strong>심볼릭 링크</strong> : Bun은 심볼릭 링크를 사용하기 때문에 각 프로젝트의 패키지가 중앙 위치에 연결됩니다. 이는 후속 프로젝트에서 사용되는 모듈을 다시 다운로드할 필요가 없음을 의미합니다.</li><li><strong>바이너리 잠금 파일</strong> : Bun은 바이너리 잠금 파일을 사용합니다. 바이너리 파일은 일반적으로 더 빠르게 직렬화 및 역직렬화되므로 패키지 관리자에 필요한 전체 시간이 줄어듭니다.</li><li><strong>Zig</strong> : Bun의 패키지 관리자는 Zig로 작성되었습니다. 이것은 매우 빠른 언어입니다. 대부분의 다른 JavaScript 패키지 관리자가 사용하는 JavaScript보다 훨씬 빠릅니다.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bun은-nodejs-및-deno와-어떻게-다릅니까">Bun은 Node.js 및 Deno와 어떻게 다릅니까?<a href="#bun은-nodejs-및-deno와-어떻게-다릅니까" class="hash-link" aria-label="Bun은 Node.js 및 Deno와 어떻게 다릅니까?에 대한 직접 링크" title="Bun은 Node.js 및 Deno와 어떻게 다릅니까?에 대한 직접 링크">​</a></h2><p>Node.js와 Deno는 가장 인기 있고 널리 사용되는 서버 측 JavaScript 런타임 환경 중 두 가지입니다. <a href="https://blog.logrocket.com/bun-javascript-runtime-taking-node-js-deno/" target="_blank" rel="noopener noreferrer">그들이 Bun 과 어떻게 비교되는지</a> 봅시다 .</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="속도">속도<a href="#속도" class="hash-link" aria-label="속도에 대한 직접 링크" title="속도에 대한 직접 링크">​</a></h3><p><a href="https://github.com/oven-sh/bun" target="_blank" rel="noopener noreferrer">Bun의 제작자가 수행한 벤치마크</a> 에 따르면 Bun은 HTTP 서버 및 SQL과 같은 I/O 집약적인 작업에서 Node.js와 Deno를 능가할 수 있습니다. Bun은 Node.js나 Deno보다 빠르게 시작하고 실행할 수 있도록 제작되었습니다. 또한 JavaScript V8 대신 <a href="https://developer.apple.com/documentation/javascriptcore" target="_blank" rel="noopener noreferrer">JavaScriptCore를</a> 사용하고 API 작성을 위해 Zig를 사용하며 광범위한 조정 및 벤치마킹으로 인해 두 서버 측 JavaScript 런타임보다 훨씬 빠르다고 주장합니다 .</p><p>이러한 주장은 이상하게 보일 수 있습니다. 결국 모든 것은 JavaScript이고 JavaScript V8은 매우 효율적입니다. 그러나 I/O 집약적인 작업에서 Bun의 속도를 언급한 것을 기억하십니까? 상당한 비율의 실행 시간이 JavaScript 엔진 자체가 아닌 런타임의 API에서 소비됩니다. Bun은 Node.js나 Deno보다 I/O 구현이 훨씬 빠르기 때문에 이러한 경우 훨씬 빠릅니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="추가-기능">추가 기능<a href="#추가-기능" class="hash-link" aria-label="추가 기능에 대한 직접 링크" title="추가 기능에 대한 직접 링크">​</a></h2><p>Bun은 JavaScript 런타임일 뿐만 아니라 웹 개발자를 위한 다재다능하고 강력한 도구가 되는 다양한 추가 기능도 함께 제공됩니다. 이러한 기능에는 Deno와 유사한 번들러, TypeScript 트랜스파일러 및 테스트 러너가 포함됩니다.</p><p>Bun에는 CSS-in-JS 도구, 템플릿 빌더 및 환경 변수 로더도 포함되어 있습니다. Bun은 웹 라이브러리와 동일한 코드 가중치 제약이 없으므로 성능 최적화와 다양한 기능을 모두 제공할 수 있습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="호환성">호환성<a href="#호환성" class="hash-link" aria-label="호환성에 대한 직접 링크" title="호환성에 대한 직접 링크">​</a></h3><p>Bun은 노드와 호환되도록 제작되었습니다. CommonJS, Node-API 및 일부 Node.js 모듈을 완벽하게 지원합니다. 이 기능은 광대한 Node.js 생태계에 액세스할 수 있게 해주기 때문에 매우 유용합니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="bun으로-react-앱-만들기">Bun으로 React 앱 만들기<a href="#bun으로-react-앱-만들기" class="hash-link" aria-label="Bun으로 React 앱 만들기에 대한 직접 링크" title="Bun으로 React 앱 만들기에 대한 직접 링크">​</a></h2><p>이제 Bun의 많은 기능을 더 잘 이해했습니다. Bun JavaScript 런타임에서 React 애플리케이션을 만드는 방법을 살펴보겠습니다.</p><p>시작하려면 컴퓨터에 Bun을 설치합니다.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://bun.sh/install </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bash</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Mac을 사용하는 경우 Bun이 작동하도록 하려면 몇 가지 추가 단계를 수행해야 합니다. 설치가 성공적으로 완료되면 두 개의 내보내기 명령이 표시됩니다. 폴더 의 파일 에 해당 명령을 추가하려면 다음 단계를 따르십시오 .<code>.zprofile``Users</code></p><ol><li>컴퓨터의 하드 디스크로 이동</li><li><code>Users</code>폴더 로 이동</li><li>현재 로그인한 사용자로 이동</li><li>라는 파일을 찾습니다.<code>.zprofile</code></li><li>파일 에 명령을 추가 <code>zprofile</code>하고 저장</li></ol><p>Bun이 설치되었는지 확인하려면 다음 명령을 사용하십시오.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bun -v</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>이제 React를 설치해봅시다. 터미널에서 React 프로젝트를 보관할 위치로 이동한 후 다음 명령을 실행합니다.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bun create react </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> 앱 이름 </span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>다음으로 프로젝트 폴더로 이동한 다음 아래 명령을 실행하여 로컬 개발 서버를 시작합니다.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bun dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>프로덕션 빌드를 생성하려면 다음 명령을 실행합니다.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bun react-scripts build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Bun은 Create React App과 같은 스크립트 명령을 생성] 하지 않지만 단순히 . 이러한 사전 구성된 React 스크립트는 프로그래밍 방식으로 React JSX 구문을 JavaScript로 변환하는 데 필요한 빌드 도구를 실행합니다.<code>react-scripts</code></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bun a react-scripts -d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>이제 파일에 스크립트를 추가하기만 하면 됩니다 . 그런 다음 npm을 사용하여 Create React App 프로젝트에서와 마찬가지로 스크립트 실행을 시작할 수 있습니다.<code>package.json</code></p><p>파일 에 다음 스크립트를 추가합니다 .<code>package.json</code></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"scripts"</span><span class="token operator" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"start"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"bun dev"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"build"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"react-scripts build"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Bun은 기본적으로 JavaScript로 React 앱을 만듭니다. 대신 TypeScript를 사용하려면 파일 확장자를 에서 .<code>.jsx``.tsx</code></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="속도-테스트-bun-vs-nodejs">속도 테스트: Bun vs Node.js<a href="#속도-테스트-bun-vs-nodejs" class="hash-link" aria-label="속도 테스트: Bun vs Node.js에 대한 직접 링크" title="속도 테스트: Bun vs Node.js에 대한 직접 링크">​</a></h2><p>간단한 속도 테스트를 수행하여 이러한 런타임 중 어느 것이 코드를 가장 빠르게 실행하는지 알아보겠습니다. 우리 프로그램은 단순한 루프입니다. 프로그램 시작 시 타이머를 시작하고 루프가 반복을 마치면 타이머를 종료합니다.</p><p>프로그램 코드는 다음과 같습니다.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">time</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">'test'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10000</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">timeEnd</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"test"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>속도 테스트를 실행해 보겠습니다.</p><ol><li>파일을 만들고 원하는 이름으로 부르세요 .<code>bun-test.js</code></li><li>위의 코드를 파일에 붙여넣습니다.</li><li>터미널을 열고 파일이 있는 폴더로 이동합니다.</li><li>터미널에서 프로그램을 실행합니다.</li></ol><p>Bun으로 프로그램을 실행하려면 다음 명령을 사용하십시오.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bun </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">file name</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>다음은 Bun으로 프로그램을 실행한 결과입니다.</p><p><img loading="lazy" alt="Speed Test with Bun" src="/blog/assets/images/running-program-with-bun-76f939fb89edf73d7da4eb6d2a7a491b.avif" class="img_ev3q"></p><p><code>22.39ms</code>루프를 완료하는 데 Bun이 필요했습니다 .</p><p>이제 Node.js가 동일한 프로그램을 완료하는 데 얼마나 걸리는지 봅시다.</p><p>Node로 프로그램을 실행하려면 다음 명령을 사용하십시오.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">node [file name]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Node로 프로그램을 실행한 결과는 다음과 같습니다.</p><p><img loading="lazy" alt="Speed Test with Node.js" src="/blog/assets/images/running-program-with-node-36e26478ab286049df91ab1102c0fb2a.png" width="730" height="423" class="img_ev3q"></p><p><code>163.225ms</code>동일한 프로그램을 완료하는 데 Node가 필요했습니다 !</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="속도-테스트-bun-대-create-react-app">속도 테스트: Bun 대 Create React App<a href="#속도-테스트-bun-대-create-react-app" class="hash-link" aria-label="속도 테스트: Bun 대 Create React App에 대한 직접 링크" title="속도 테스트: Bun 대 Create React App에 대한 직접 링크">​</a></h2><p>이제 다른 유형의 속도 테스트를 수행해 보겠습니다. Create React App과 비교하여 Bun이 React 애플리케이션을 설정하는 데 걸리는 시간을 살펴보겠습니다.</p><p>Bun으로 React 애플리케이션을 설정하려면 터미널을 열고 React 프로젝트를 설치하려는 폴더로 cd합니다.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">bun create react [app name]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>아래와 같이 <code>17.78s</code>새로운 React 애플리케이션에 대한 모든 종속성 설치를 완료하는 데 Bun이 걸렸습니다.</p><p><img loading="lazy" alt="Time for Bun to Install All Dependencies for a React App" src="/blog/assets/images/bun-seconds-to-run-react-a14deb3efa360ea142b855b6e877cd08.png" width="730" height="471" class="img_ev3q"></p><p>이제 Create React App이 동일한 작업을 수행하는 데 시간이 얼마나 걸리는지 봅시다.</p><p>다시 터미널을 열고 React 프로젝트를 설치하려는 폴더로 cd합니다.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npx create-react-app [app name]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>아래와 같이 <code>61s</code>새 React 애플리케이션에 대한 모든 종속성 설치를 완료하려면 Create React App이 필요했습니다.</p><p><img loading="lazy" alt="Time for Create React App to Install All Dependencies for a React App" src="/blog/assets/images/create-react-app-seconds-to-run-8ebf56b6c00b3fd155f313a84ec6907d.png" width="730" height="471" class="img_ev3q"></p><p><strong><em>NB,</em></strong> <em>위의 테스트에서는 인터넷 속도가 주요 요인이었지만 두 테스트 모두 동일한 인터넷 속도를 사용했습니다.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="결론">결론<a href="#결론" class="hash-link" aria-label="결론에 대한 직접 링크" title="결론에 대한 직접 링크">​</a></h2><p>Bun은 웹 개발자에게 풍부한 기능과 도구 세트를 제공하는 강력한 올인원 JavaScript 런타임입니다. 이 기사에서는 Bun의 기능을 자세히 살펴보고 이를 Node.js 및 Deno와 같은 다른 인기 있는 JavaScript 런타임과 비교했습니다. 또한 Bun으로 간단한 React 앱을 만드는 방법을 시연하고 테스트를 실행하여 다른 런타임과 비교하여 얼마나 빠르고 효율적인지 보여주었습니다. 전반적으로 Bun은 빠르고 효율적이며 확장 가능한 응용 프로그램을 구축하려는 웹 개발자에게 풍부한 이점을 제공하는 다재다능하고 강력한 도구입니다.</p>]]></content>
        <author>
            <name>100milliongold</name>
            <uri>https://sebastienlorber.com</uri>
        </author>
        <category label="front-end" term="front-end"/>
        <category label="react" term="react"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[useMemo-정의]]></title>
        <id>https://100milliongold.github.io/blog/post/2023/02/21/useMemo-정의</id>
        <link href="https://100milliongold.github.io/blog/post/2023/02/21/useMemo-정의"/>
        <updated>2023-02-21T11:30:58.000Z</updated>
        <summary type="html"><![CDATA[출처//ui.toast.com/weekly-pick/ko_20190731]]></summary>
        <content type="html"><![CDATA[<p>출처 : <a href="https://ui.toast.com/weekly-pick/ko_20190731" target="_blank" rel="noopener noreferrer">https://ui.toast.com/weekly-pick/ko_20190731</a></p><hr><blockquote><p>원문: <a href="https://dmitripavlutin.com/use-react-memo-wisely" target="_blank" rel="noopener noreferrer">https://dmitripavlutin.com/use-react-memo-wisely</a></p></blockquote><p>유저들은 반응이 빠른 UI를 선호한다. 100ms 미만의 UI 응답 지연은 유저들이 즉시 느낄 수 있고, 100ms에서 300ms가 지연되면 이미 유저들은 상당한 지연으로 느낀다.</p><p>UI 성능을 증가시키기 위해, React는 고차 컴퍼넌트(Higher Order Component, HOC) <code>React.memo()</code>를 제공한다. 렌더링 결과를 메모이징(Memoizing)함으로써, 불필요한 리렌더링을 건너뛴다.</p><p>이 글은 언제 <code>React.memo()</code>가 성능을 향상하는데 도움이 되는지, 언제 불필요한지 구분하는 데 도움이 될 것이다.</p><p>추가로 당신이 알아두면 좋을 쓸만한 메모이제이션(Memoization) 팁 또한 설명할 것이다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-reactmemo"><a href="https://ui.toast.com/weekly-pick/ko_20190731#1-reactmemo" target="_blank" rel="noopener noreferrer"></a>1<!-- -->.<!-- --> React.memo()<a href="#1-reactmemo" class="hash-link" aria-label="1-reactmemo에 대한 직접 링크" title="1-reactmemo에 대한 직접 링크">​</a></h2><p>React는 먼저 컴퍼넌트를 렌더링(rendering) 한 뒤, 이전 렌더된 결과와 비교하여 DOM 업데이트를 결정한다. 만약 렌더 결과가 이전과 다르다면, React는 DOM을 업데이트한다.</p><p>다음 렌더링 결과와 이전 결과의 비교는 빠르다. 하지만 어떤 상황에서는 이 과정의 속도를 좀 더 높일 수 있다.</p><p>컴퍼넌트가 <code>React.memo()</code>로 래핑 될 때, React는 컴퍼넌트를 렌더링하고 결과를 메모이징(Memoizing)한다. 그리고 다음 렌더링이 일어날 때 <code>props</code>가 같다면, React는 메모이징(Memoizing)된 내용을 재사용한다.</p><p>예시를 살펴보자. 함수형 컴퍼넌트 <code>Movie</code>가 <code>React.memo()</code>로 래핑 되어 있다.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Movie</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> title</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> releaseDate </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Movie</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Release</span><span class="token plain"> date</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">releaseDate</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">MemoizedMovie</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">memo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Movie</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>React.memo(Movie)</code>는 새로 메모이징된 컴퍼넌트인 <code>MemoizedMovie</code>를 반환한다. 한 가지 차이점을 제외하고 원래의 <code>Movie</code> 컴퍼넌트와 같은 결과를 나타낼 것이다.</p><p><code>MemoizedMovie</code>의 렌더링 결과는 메모이징 되어있다. 만약 <code>title</code>이나 <code>releaseData</code> 같은 <code>props</code>가 변경 되지 않는다면 다음 렌더링 때 메모이징 된 내용을 그대로 사용하게 된다.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 첫 렌더이다. React는 MemoizedMovie 함수를 호출한다.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">MemoizedMovie</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  movieTitle</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"Heat"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  releaseDate</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"December 15, 1995"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 다시 렌더링 할 때 React는 MemoizedMovie 함수를 호출하지 않는다.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 리렌더링을 막는다.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">MemoizedMovie</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  movieTitle</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"Heat"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  releaseDate</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"December 15, 1995"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://codesandbox.io/s/react-memo-demo-c9dx1?fontsize=14&amp;hidenavigation=1&amp;theme=dark" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://codesandbox.io/static/img/play-codesandbox.svg" alt="Edit react-memo-demo" class="img_ev3q"></a></p><p>메모이징 한 결과를 재사용 함으로써, React에서 리렌더링을 할 때 가상 DOM에서 달라진 부분을 확인하지 않아 성능상의 이점을 누릴 수 있다.</p><p>클래스 컴퍼넌트 또한 <a href="https://reactjs.org/docs/react-api.html#reactpurecomponent" target="_blank" rel="noopener noreferrer">PureComponent</a>로 동일한 내용이 구현되어 있다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-props-동등-비교-커스터마이징"><a href="https://ui.toast.com/weekly-pick/ko_20190731#11-props-%EB%8F%99%EB%93%B1-%EB%B9%84%EA%B5%90-%EC%BB%A4%EC%8A%A4%ED%84%B0%EB%A7%88%EC%9D%B4%EC%A7%95" target="_blank" rel="noopener noreferrer"></a>1.1 props 동등 비교 커스터마이징<a href="#11-props-동등-비교-커스터마이징" class="hash-link" aria-label="11-props-동등-비교-커스터마이징에 대한 직접 링크" title="11-props-동등-비교-커스터마이징에 대한 직접 링크">​</a></h3><p><code>React.memo()</code>는 props 혹은 props의 객체를 비교할 때 <a href="https://github.com/facebook/react/blob/v16.8.6/packages/shared/shallowEqual.js" target="_blank" rel="noopener noreferrer">얕은(shallow)</a> 비교를 한다.</p><p>비교 방식을 수정하고 싶다면 <code>React.memo()</code> 두 번째 매개변수로 비교함수를 만들어 넘겨주면 된다.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">memo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Component</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token function" style="color:#d73a49">areEqual</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">prevProps</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> nextProps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>areEqual(prevProps, nextProps)</code> 함수는 <code>prevProps</code>와 <code>nextProps</code>가 같다면 <code>true</code>를 반환할 것이다.</p><p>예를들어 <code>Movie</code>의 <code>props</code>가 동일한지 수동으로 비교해보자.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">moviePropsAreEqual</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">prevMovie</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> nextMovie</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    prevMovie</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">title</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> nextMovie</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">title</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    prevMovie</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">releaseDate</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> nextMovie</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">releaseDate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">MemoizedMovie2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">memo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Movie</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> moviePropsAreEqual</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>moviePropsAreEqual()</code> 함수는 이전 <code>props</code>와 현재 <code>props</code>가 같다면 <code>true</code>를 반환할 것이다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-언제-reactmemo를-써야할까">2. 언제 React.memo()를 써야할까<a href="#2-언제-reactmemo를-써야할까" class="hash-link" aria-label="2. 언제 React.memo()를 써야할까에 대한 직접 링크" title="2. 언제 React.memo()를 써야할까에 대한 직접 링크">​</a></h2><p><img loading="lazy" alt="image2.png" src="/blog/assets/images/when-to-use-react-memo-infographic-6480d04eadc3a2836145cca09b4815e0.avif" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-같은-props로-렌더링이-자주-일어나는-컴퍼넌트">2.1 같은 props로 렌더링이 자주 일어나는 컴퍼넌트<a href="#21-같은-props로-렌더링이-자주-일어나는-컴퍼넌트" class="hash-link" aria-label="2.1 같은 props로 렌더링이 자주 일어나는 컴퍼넌트에 대한 직접 링크" title="2.1 같은 props로 렌더링이 자주 일어나는 컴퍼넌트에 대한 직접 링크">​</a></h3><p><code>React.memo()</code>는 함수형 컴퍼넌트에 적용되어 같은 props에 같은 렌더링 결과를 제공한다.</p><p><code>React.memo()</code>를 사용하기 가장 좋은 케이스는 함수형 컴퍼넌트가 같은 <code>props</code>로 자주 렌더링 될거라 예상될 때이다.</p><p>일반적으로 부모 컴퍼넌트에 의해 하위 컴퍼넌트가 같은 props로 리렌더링 될 때가 있다.</p><p>위에서 정의한 <code>Movie</code>를 다시 사용해서 예시를 들어보자. 여기 <code>Movie</code>의 부모 컴퍼넌트인 실시간으로 업데이트되는 영화 조회수를 나타내는 <code>MovieViewsRealtime</code> 컴퍼넌트가 있다.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MovieViewsRealtime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> title</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> releaseDate</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> views </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Movie</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> releaseDate</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">releaseDate</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token maybe-class-name">Movie</span><span class="token plain"> views</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">views</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>이 어플리케이션은 주기적(매초)으로 서버에서 데이터를 폴링(Polling)해서 <code>MovieViewsRealtime</code> 컴퍼넌트의 <code>views</code>를 업데이트한다.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Initial render</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">MovieViewsRealtime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  views</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"Forrest Gump"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  releaseDate</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"June 23, 1994"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// After 1 second, views is 10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">MovieViewsRealtime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  views</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"Forrest Gump"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  releaseDate</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"June 23, 1994"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// After 2 seconds, views is 25</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">MovieViewsRealtime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  views</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"Forrest Gump"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  releaseDate</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"June 23, 1994"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// etc</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>views</code>가 새로운 숫자가 업데이트 될 때 마다 <code>MoviewViewsRealtime</code> 컴퍼넌트 또한 리렌더링 된다. 이때 <code>Movie</code> 컴퍼넌트 또한 <code>title</code>이나 <code>releaseData</code>가 같음에도 불구하고 리렌더링 된다.</p><p>이때가 <code>Movie</code> 컴퍼넌트에 메모이제이션을 적용할 적절한 케이스다.</p><p><code>MovieViewsRealtime</code>에 메모이징된 컴퍼넌트인 <code>MemoizedMovie</code>를 대신 사용해 성능을 향상해보자.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MovieViewsRealtime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> title</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> releaseDate</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> views </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">MemoizedMovie</span><span class="token plain"> title</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">title</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> releaseDate</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">releaseDate</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token maybe-class-name">Movie</span><span class="token plain"> views</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">views</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>title</code> 혹은 <code>releaseDate</code> props가 같다면, React는 <code>MemoizedMovie</code>를 리렌더링 하지 않을 것이다. 이렇게 <code>MovieViewsRealtime</code> 컴퍼넌트의 성능을 향상할 수 있다.</p><blockquote><p>컴퍼넌트가 같은 props로 자주 렌더링되거나, 무겁고 비용이 큰 연산이 있는 경우, <code>React.memo()</code>로 컴퍼넌트를 래핑할 필요가 있다.</p></blockquote><p><a href="https://reactjs.org/docs/optimizing-performance.html#profiling-components-with-the-chrome-performance-tab" target="_blank" rel="noopener noreferrer">profiling</a>을 통해 <code>React.memo()</code>의 이점을 측정해봐라</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-언제-reactmemo를-사용하지-말아야-할까">3<!-- -->.<!-- --> 언제 React.memo()를 사용하지 말아야 할까<a href="#3-언제-reactmemo를-사용하지-말아야-할까" class="hash-link" aria-label="3-언제-reactmemo를-사용하지-말아야-할까에 대한 직접 링크" title="3-언제-reactmemo를-사용하지-말아야-할까에 대한 직접 링크">​</a></h2><p>만약 위에서 언급한 상황에 일치하지 않는다면 <code>React.memo()</code>를 사용할 필요가 없을 가능성이 높다.</p><p>경험적으로, 성능적인 이점을 얻지 못한다면 메모이제이션을 사용하지 않는것이 좋다.</p><blockquote><p>성능 관련 변경이 잘못 적용 된다면 성능이 오히려 악화될 수 있다. <code>React.memo()</code>를 현명하게 사용하라.</p></blockquote><p>또한, 기술적으로는 가능하지만 클래스 기반의 컴퍼넌트를 <code>React.memo()</code>로 래핑하는것은 적절하지 않다. 클래스 기반의 컴퍼넌트에서 메모이제이션이 필요하다면 <code>PureComponent</code>를 확장하여 사용하거나, <code>shouldComponentUpdate()</code> 메서드를 구현하는 것이 적절하다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="31-쓸모없는-props-비교">3.1 쓸모없는 props 비교<a href="#31-쓸모없는-props-비교" class="hash-link" aria-label="3.1 쓸모없는 props 비교에 대한 직접 링크" title="3.1 쓸모없는 props 비교에 대한 직접 링크">​</a></h3><p>렌더링될 때 <code>props</code>가 다른 경우가 대부분인 컴포넌트를 생각해보면, 메모이제이션 기법의 이점을 얻기 힘들다.</p><p><code>props</code>가 자주 변하는 컴퍼넌트를 <code>React.memo()</code>로 래핑할지라도, React는 두 가지 작업을 리렌더링 할 때마다 수행할 것이다.</p><ol><li>이전 <code>props</code>와 다음 <code>props</code>의 동등 비교를 위해 비교 함수를 수행한다.</li><li>비교 함수는 거의 항상 <code>false</code>를 반환할 것이기 때문에, React는 이전 렌더링 내용과 다음 렌더링 내용을 비교할 것이다.</li></ol><p>비교 함수의 결과는 대부분 <code>false</code>를 반환하기에 <code>props</code> 비교는 불필요하게 된다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-reactmemo-와-콜백-함수">4<!-- -->.<!-- --> React.memo() 와 콜백 함수<a href="#4-reactmemo-와-콜백-함수" class="hash-link" aria-label="4-reactmemo-와-콜백-함수에 대한 직접 링크" title="4-reactmemo-와-콜백-함수에 대한 직접 링크">​</a></h2><p>함수 객체는 "일반" 객체와 동일한 비교 원칙을 따른다. 함수 객체는 오직 자신에게만 동일하다.</p><p>몇가지 함수를 비교해보자.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sumFactory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">a</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> b</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sum1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sumFactory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> sum2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sumFactory</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sum1 </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> sum2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// =&gt; false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sum1 </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> sum1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// =&gt; true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sum2 </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> sum2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// =&gt; true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>sumFactory()</code>는 팩토리 함수이다. 이 함수는 2가지 숫자를 더해주는 화살표 함수를 반환한다.</p><p>함수 <code>sum1</code>과 <code>sum2</code>는 팩토리에 의해 생성된 함수다. 두 함수 모두 두 숫자를 더해주는 함수이다. 그러나 <code>sum1</code>과 <code>sum2</code>는 다른 함수 객체이다.</p><p>부모 컴퍼넌트가 자식 컴퍼넌트의 콜백 함수를 정의한다면, 새 함수가 암시적으로 생성될 수 있다. 이것이 어떻게 메모이제이션을 막는지 보고, 수정해보자.</p><p><code>Logout</code> 컴퍼넌트는 콜백 <code>prop</code>인 <code>onLogout</code>을 갖는다.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Logout</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> username</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> onLogout </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">onLogout</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Logout</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">username</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">MemoizedLogout</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">memo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Logout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>함수의 동등성이란 함정 때문에, 메모이제이션을 적용할 때는 콜백을 받는 컴퍼넌트 관리에 주의해야한다. 리렌더를 할 때 마다 부모 함수가 다른 콜백 함수의 인스턴스를 넘길 가능성이 있다.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MyApp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> store</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> cookies </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"main"</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">header</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">MemoizedLogout</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          username</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">username</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          onLogout</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> cookies</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">header</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">content</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>동일한 <code>username</code> 값이 전달되더라고, <code>MemoizedLogout</code>은 새로운 <code>onLogout</code> 콜백 때문에 리렌더링을 하게 된다.</p><p>메모이제이션이 중단되게 되는 것이다.</p><p>이 문제를 해결하려면 <code>onLogout</code> prop의 값을 매번 동일한 콜백 인스턴스로 설정해야만 한다.<a href="https://reactjs.org/docs/hooks-reference.html#usecallback" target="_blank" rel="noopener noreferrer">useCallback()</a>을 이용해서 콜백 인스턴스를 보존시켜보자.</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">MemoizedLogout</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">memo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Logout</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">MyApp</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> store</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> cookies </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> onLogout </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useCallback</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cookies</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">"main"</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">header</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">MemoizedLogout</span><span class="token plain"> username</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">username</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> onLogout</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">onLogout</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">header</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">store</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">content</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>useCallback(() =&gt; { cookies.clear() }, [])</code> 는 항상 같은 함수 인스턴스를 반환한다. <code>MemoizedLogout</code>의 메모이제이션이 정상적으로 동작하도록 수정되었다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-reactmemo-은-성능-개선의-도구다">5<!-- -->.<!-- --> React.memo() 은 성능 개선의 도구다<a href="#5-reactmemo-은-성능-개선의-도구다" class="hash-link" aria-label="5-reactmemo-은-성능-개선의-도구다에 대한 직접 링크" title="5-reactmemo-은-성능-개선의-도구다에 대한 직접 링크">​</a></h2><p>엄밀히 말하면, React에서는 성능 개선을 위한 하나의 도구로 메모이제이션을 사용한다.</p><p>대부분의 상황에서 React는 메모이징 된 컴퍼넌트의 리렌더링을 피할 수 있지만, 렌더링을 막기 위해 메모이제이션에 의존하면 안된다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-결론">6<!-- -->.<!-- --> 결론<a href="#6-결론" class="hash-link" aria-label="6-결론에 대한 직접 링크" title="6-결론에 대한 직접 링크">​</a></h2><p><code>React.memo()</code>는 함수형 컴퍼넌트에서도 메모이제이션의 장점을 얻게 해 주는 훌륭한 도구다. 올바르게 적용 된다면 변경되지 않은 동일한 prop에 대해 리렌더링을 하는 것을 막을 수 있다.</p><p>다만, 콜백 함수를 prop으로 사용하는 컴퍼넌트에서 메모이징을 할 때 주의하라. 그리고 같은 렌더링을 할 때 이전과 동일한 콜백 함수 인스턴스를 넘기는지 확실히 하라.</p><p>그리고 메모이제이션의 성능상 이점을 측정하기 위해 <a href="https://reactjs.org/docs/optimizing-performance.html#profiling-components-with-the-chrome-performance-tab" target="_blank" rel="noopener noreferrer">profiling</a>을 사용하는 것을 잊지 말아라.</p>]]></content>
        <author>
            <name>100milliongold</name>
            <uri>https://sebastienlorber.com</uri>
        </author>
        <category label="front-end" term="front-end"/>
        <category label="react" term="react"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[yup + react-hoot-form 으로 연동하기]]></title>
        <id>https://100milliongold.github.io/blog/post/2023/03/06/yup%20%2B%20react-hook-form%20%EC%97%B0%EB%8F%99</id>
        <link href="https://100milliongold.github.io/blog/post/2023/03/06/yup%20%2B%20react-hook-form%20%EC%97%B0%EB%8F%99"/>
        <updated>2023-02-21T11:30:58.000Z</updated>
        <summary type="html"><![CDATA[1. install package]]></summary>
        <author>
            <name>100milliongold</name>
            <uri>https://sebastienlorber.com</uri>
        </author>
        <category label="front-end" term="front-end"/>
        <category label="react" term="react"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Linux Large File Copy(Linux 대량 파일 복사) | by jelly | Medium]]></title>
        <id>https://100milliongold.github.io/blog/post/2023/02/20/Linux-Large-File-Copy-Linux-대량-파일-복사</id>
        <link href="https://100milliongold.github.io/blog/post/2023/02/20/Linux-Large-File-Copy-Linux-대량-파일-복사"/>
        <updated>2023-02-20T09:18:58.000Z</updated>
        <summary type="html"><![CDATA[https://jellybeanz.medium.com/tip-linux-large-file-copy-linux-%EB%8C%80%EB%9F%89-%ED%8C%8C%EC%9D%BC-%EB%B3%B5%EC%82%AC-2d7c18f48d77]]></summary>
        <content type="html"><![CDATA[<p><a href="https://jellybeanz.medium.com/tip-linux-large-file-copy-linux-%EB%8C%80%EB%9F%89-%ED%8C%8C%EC%9D%BC-%EB%B3%B5%EC%82%AC-2d7c18f48d77" target="_blank" rel="noopener noreferrer">https://jellybeanz.medium.com/tip-linux-large-file-copy-linux-%EB%8C%80%EB%9F%89-%ED%8C%8C%EC%9D%BC-%EB%B3%B5%EC%82%AC-2d7c18f48d77</a></p><p>Ubuntu 를 사용하다 보면 파일을 복사하가나 백업하는 등의 일을 자주 하게 된다. 이런 경우는 대부분 아래에 적은 cp 명령어를 주로 사용하곤 한다.</p><blockquote><p>cp 사용</p></blockquote><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp -rf [source] [target]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>rsync 사용</p></blockquote><p>cp 를 사용하는 경우 진행 % 를 볼수 없지만 rsync 는 progress 옵션을 이용해서 현재 복사되고 있는 파일의 진행 % 를 볼수 있다.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rsync -anv --progress [sorce] [target]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>하지만!!! 몇만개, 수백기가 단위의 파일을 복사 하는 경우 cp 명령어는 어느 순간부터 느려지는 문제가 발생하곤 한다.</p></blockquote><p>이런 문제를 해결하기 위해서는 파일을 tar 로 압축하여 복사를 하는 방법으로 해결 하곤 했지만, 다시 압축을 풀어야 하는 불편함이 있었다. 최근에 이런 번거로움을 해결하는 방법을 찾았다.</p><blockquote><p>tar 압축/해제 사용</p></blockquote><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">tar cvf - [source] | (cd [target] ; tar xvf -)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>tar 명령어를 | 와 함께 사용하면 source 를 압축하고 target 에 압축 해제를 한번에 해주게 된다. 이 방법을 이용하면 대량/대용량 파일을 복사하는데 있어서 속도 문제가 발생하지 않는다.</p><p><strong>cp, rsync, tar 를 이용하는 방법 중에서는 tar 를 이용하는 방법이 제일 좋다.</strong></p>]]></content>
        <author>
            <name>100milliongold</name>
            <uri>https://sebastienlorber.com</uri>
        </author>
        <category label="linux" term="linux"/>
        <category label="server" term="server"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[PyScript 란? - HTML에서 파이썬 코드 작성]]></title>
        <id>https://100milliongold.github.io/blog/post/2023/02/20/pyscript-란</id>
        <link href="https://100milliongold.github.io/blog/post/2023/02/20/pyscript-란"/>
        <updated>2023-02-20T09:18:58.000Z</updated>
        <summary type="html"><![CDATA[출처//velog.io/@taekkim/PyScript-%EB%9E%80]]></summary>
        <content type="html"><![CDATA[<p>출처 : <a href="https://velog.io/@taekkim/PyScript-%EB%9E%80" target="_blank" rel="noopener noreferrer">https://velog.io/@taekkim/PyScript-%EB%9E%80</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pyscript">PyScript<a href="#pyscript" class="hash-link" aria-label="PyScript에 대한 직접 링크" title="PyScript에 대한 직접 링크">​</a></h2><ul><li>HTML 에 파이썬을 끼워넣은 시스템</li><li>파이썬 코드를 HTML에서 작성하고 동작시킬 수 있고, PyScript에서 Javascript 라이브러리 들을 부르고, 파이썬으로 모든 웹 개발을 할 수 있음</li><li>데이터 사이언스 (혹은 머신러닝 엔지니어) 로써 우리의 데시보드나 모델을 HTML 파일로 공유할 수 있고, 웹브라우저에서 열기만 하면 코드를 실행시킬 수 있음 - <code>streamlit</code> 같은 데모 프레임워크 없이도 웹에서 시연 가능</li></ul><p><img loading="lazy" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/3cc4a04e-9436-46d3-94a0-91569f6a017b/image.png" src="/blog/assets/images/image-94809567baca3b1f0e1cd541b4a03c16.png" width="1600" height="613" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pyscript의-원리">PyScript의 원리<a href="#pyscript의-원리" class="hash-link" aria-label="PyScript의 원리에 대한 직접 링크" title="PyScript의 원리에 대한 직접 링크">​</a></h2><ul><li>CPython 과 <strong>WebAssembly</strong>/Emscripten은 포팅해주는 <a href="https://pyodide.org/en/stable/" target="_blank" rel="noopener noreferrer">Pyodide</a>로 만들어짐</li><li>PyScript는 미래에 다른 언어들까지의 지원을 제공할 것</li></ul><p><img loading="lazy" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/f15cb292-fc53-4e5e-8ddd-1af029ff9778/image.png" src="/blog/assets/images/image2-d9c6dc267496a5df8bef839a3b479eb5.png" width="453" height="255" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="webassembly">WebAssembly<a href="#webassembly" class="hash-link" aria-label="WebAssembly에 대한 직접 링크" title="WebAssembly에 대한 직접 링크">​</a></h2><ul><li>파이썬으로 웹사이트를 작성할 수 있게 만들어주는 근원적인 기술</li><li>WebAssembly가 원래 개발될때는, 웹 브라우저는 오직 Javascript만 지원했음</li><li>2017년에 처음 release 되고 빠르게 2019년 W3C (World Wide Web Consortium) 표준이 됨</li><li>사람이 읽을 수 있는 <code>.wat</code> 텍스트 포멧 언어를 브라우저에서 실행시킬 수 있는 <code>.wasm</code> 바이너리 형식으로 전환</li><li>모든 언어에서 코드를 작성할 수 있게 허용해주고, WebAssembly로 컴파일할 수 있게 해주고, web browser에서 동작할 수 있게 해줌!</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="get-started">Get Started<a href="#get-started" class="hash-link" aria-label="Get Started에 대한 직접 링크" title="Get Started에 대한 직접 링크">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="to-try-pyscript">To try PyScript<a href="#to-try-pyscript" class="hash-link" aria-label="To try PyScript에 대한 직접 링크" title="To try PyScript에 대한 직접 링크">​</a></h3><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">stylesheet</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">https://pyscript.net/alpha/pyscript.css</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">defer</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">https://pyscript.net/alpha/pyscript.js</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>PyScript를 시도해보기 위해서는, 적절한 pyscript 파일들이 import된 HTML 페이지를 위 태그와 함께 별도의 환경 구축 없이 작성하면 됨</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="py-env"><code>py-env</code><a href="#py-env" class="hash-link" aria-label="py-env에 대한 직접 링크" title="py-env에 대한 직접 링크">​</a></h3><p>파이썬 코드에서 동작하기 위해 필요한 파이썬 패키지들을 정의함</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">py-env</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - bokeh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - matplotlib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - pandas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - scikit-learn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - path:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - ./my-custom-py-module.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">py-env</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>파이썬 표준 라이브러리나 써드파티 OSS 패키지들과 함께 사용하기 위해서는 <code>py-env</code> 태그에 dependency 들을 명시하면 됨<!-- -->  <img loading="lazy" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cf5c38d2-ef2a-4541-a7a8-ff66aef26884/image.png" src="/blog/assets/images/image3-bce91330b734096b5a7c87e6b34a8bf8.png" width="296" height="98" class="img_ev3q"></li><li>각자가 작성한 파이썬 모듈에 대해서는 다음과 같은 <code>path</code> 아래에 위치에 맞게 작성하면 됨</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="py-script"><code>py-script</code><a href="#py-script" class="hash-link" aria-label="py-script에 대한 직접 링크" title="py-script에 대한 직접 링크">​</a></h3><p>웹 페이지에서 실행될 파이썬 코드를 작성</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">py-script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  print('Hello, World!')</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">py-script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b0d05cae-98e0-4083-b471-2e889bcfd4ca/image.png" src="/blog/assets/images/image4-ad74e768936ab7506c5c7d0eb129df81.png" width="3024" height="1964" class="img_ev3q"></p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">py-script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">./python_file.py</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">py-script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>파이썬 코드를 위처럼 직접 작성하거나, 작성된 py 파일을 불러올 수 있음</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="py-repl"><code>py-repl</code><a href="#py-repl" class="hash-link" aria-label="py-repl에 대한 직접 링크" title="py-repl에 대한 직접 링크">​</a></h3><p>코드 유저가 입력하고 확인할 수 있는 REPL (read-eval-prin loop) 컴포넌트를 생성</p><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">py-repl</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import numpy as np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(np.random.randn(10))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">py-repl</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/56109e14-8b90-457d-9a30-4a9c8f907502/image.png" src="/blog/assets/images/image5-bcfb52232cefcfafe7b1ed1e4eb19b1e.png" width="3018" height="1894" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="예제랜덤-플롯-시각화">예제:랜덤 플롯 시각화<a href="#예제랜덤-플롯-시각화" class="hash-link" aria-label="예제:랜덤 플롯 시각화에 대한 직접 링크" title="예제:랜덤 플롯 시각화에 대한 직접 링크">​</a></h2><div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">link</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">rel</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">stylesheet</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">href</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">https://pyscript.net/alpha/pyscript.css</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">defer</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">https://pyscript.net/alpha/pyscript.js</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">py-env</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - numpy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - paths:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          - ./data.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">py-env</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">head</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">py-script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"> print('Hello world!') </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">py-script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Let's plot random numbers</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">id</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">plot</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">py-script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">output</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag attr-value" style="color:#e3116c">plot</span><span class="token tag attr-value punctuation" style="color:#393A34">"</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import matplotlib.pyplot as plt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">from data import make_x_and_y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x, y = make_x_and_y(n=1000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fig, ax = plt.subplots()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ax.scatter(x, y)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">py-script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">body</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">html</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">make_x_and_y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">randn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">randn</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="-주의사항">🚧 주의사항<a href="#-주의사항" class="hash-link" aria-label="🚧 주의사항에 대한 직접 링크" title="🚧 주의사항에 대한 직접 링크">​</a></h2><p>PyScript는 현재 매우 alpha 단계에 있고 많은 알려진 이슈들이 있으며 (로딩 시간 등) PyScript를 활용해 다양한 것을 시도해보기를 권하지만 production 단계에서 사용하는 것을 권장하지 않는다고 합니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reference">Reference<a href="#reference" class="hash-link" aria-label="Reference에 대한 직접 링크" title="Reference에 대한 직접 링크">​</a></h2><p><a href="https://pyscript.com/" target="_blank" rel="noopener noreferrer">[홈페이지] PyScript</a><a href="https://github.com/pyscript/pyscript" target="_blank" rel="noopener noreferrer">[Github] PyScript</a><a href="https://github.com/pyscript/pyscript/tree/main/pyscriptjs/examples" target="_blank" rel="noopener noreferrer">[Github] PyScirpt 더 많은 예제</a><a href="https://anaconda.cloud/pyscript-python-in-the-browser" target="_blank" rel="noopener noreferrer">[아나콘다] PyScript 설명</a></p>]]></content>
        <author>
            <name>100milliongold</name>
            <uri>https://sebastienlorber.com</uri>
        </author>
        <category label="front-end" term="front-end"/>
        <category label="python" term="python"/>
        <category label="pyScript" term="pyScript"/>
        <category label="javascript" term="javascript"/>
        <category label="web" term="web"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[1. 자바스크립트와 엔진의 특성]]></title>
        <id>https://100milliongold.github.io/blog/post/2023/02/15/자바스크립트와-엔진</id>
        <link href="https://100milliongold.github.io/blog/post/2023/02/15/자바스크립트와-엔진"/>
        <updated>2023-02-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[자바스크립트의 특성과 자바스크립트로 작성된 코드의 실행을 담당하는 엔진의 특성에 대해 알아보자.]]></summary>
        <content type="html"><![CDATA[<p>자바스크립트의 특성과 자바스크립트로 작성된 코드의 실행을 담당하는 엔진의 특성에 대해 알아보자.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="11-자바스크립트의-특성">1.1. 자바스크립트의 특성<a href="#11-자바스크립트의-특성" class="hash-link" aria-label="1.1. 자바스크립트의 특성에 대한 직접 링크" title="1.1. 자바스크립트의 특성에 대한 직접 링크">​</a></h2><p>javascript는 웹을 구성하는 3대장 중 하나다. HTML 그리고 CSS와 함께 웹 페이지를 구성하는데 사용된다. HTML이 웹페이지의 UI 구성을 만드는데 사용되고 CSS가 스타일링을 입힌 다면, 그 둘을 유저와의 상호작용을 구현하는데 javascript를 사용한다.
초보자들이 배우기 쉽고 매우 자유로운 언어라고 한다.
자유롭다는 말은 문법이 간단하고 멀티-패러다임 언어로 명령형, 함수형, 객체지향형 언어등 다양하게 활용이 가능해서 그런것 같다.
또한 객체 기반의 언어지만 하지만 상속과 클래스라는 개념은 없다.
(이 부분은 추가 리서치 필요)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="12-크롬-v8엔진">1.2. 크롬 V8엔진<a href="#12-크롬-v8엔진" class="hash-link" aria-label="1.2. 크롬 V8엔진에 대한 직접 링크" title="1.2. 크롬 V8엔진에 대한 직접 링크">​</a></h2><p>자바스크립트는 실행되는 환경에 따라 사용되는 엔진이 상이하기도 하다.
일반적으로 chrome에 내장된 chrome V8 엔진이 대표적이다.
V8엔진에 의해 실행되는 javascript는 compile(번역)과 interpreter(통역) 두개의 일련의 과정을 거쳐야한다.
여담으로 V8엔진에는 원래 interpreter가 없었지만 2017년 5.9버전이 나오면서 추가 되었다.</p><p>어쨋든 compile도 하고 interpret도 거쳐야 하는 자바스크립트는 컴파일언어라고 하기도,
인터프리터 언어라고 하기도 애매하다.</p><p>아무튼 compile과 interpreter 두 개의 과정을 거치는 것이 특징인 자바스크립트는 이 과정들을 머신코드로 해석되고 통역되어 브라우저에서 인식할 수 있게 된다.
또 다른 특징은 JIT(just-in-time)이라고 불리는 방식으로 위의 과정을 거치는데
말 그대로 브라우저가(대표적인 javascript가 실행되는 환경) javascript를 읽어 들이는 순간부터 compiler과 interpreter가 실행된다는 것이다.</p><p>그래도 가장 대표적인 특징은 V8엔진은 자바스크립트 코드를 단일 스레드, call stack에서 동기적으로 실행 한다.
이는 아마 V8엔진이 JIT 방식으로 compile과 interprete를 거쳐 머신 코드로 변환시키기 때문에 안정화 때문이지 않을까 하는 추측을 해본다.</p><h1>2. 자바스크립트 엔진의 실행 방식</h1><p>자바스크립트 엔진, 대표적으로 V8은 자바스크립트 코드를 <strong>동기적</strong>으로 실행 한다고 했다.
그럼 동기적으로 실행한다는 것이 무슨 뜻일까? 엔진 내부를 살짝 들여다보면서 살펴보자.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="21-동기적인-실행-방식">2.1. 동기적인 실행 방식<a href="#21-동기적인-실행-방식" class="hash-link" aria-label="2.1. 동기적인 실행 방식에 대한 직접 링크" title="2.1. 동기적인 실행 방식에 대한 직접 링크">​</a></h2><p>동기적으로 어떤 작업들을 한다는 말은 작업들을 한 작업 한 작업씩 처리한다는 뜻이다.
조금 더 자세히 살펴보자.
V8엔진은 싱글 스레드인 하나의 <strong>call stack</strong>을 가지고 있다.
작업을 처리하는 공간인 call stack은 하나 밖에 없기 때문에 실행이 필요한 javascript 코드들은 이 하나의 call stack에 차곡 차곡 쌓인다.
만약 5개의 코드가 실행이 필요해 call stack에 차곡 차곡 쌓였다.
(실행 순서는 나중에 조금 더 자세히 살펴볼 것이다. 지금은 단지 동기적 처리 방식에 대해서만 설명)
이 5개의 작업들을 동기적으로 처리하면 다음과 같은 순서로 진행될 것이다.</p><ol><li>첫 번째 순서의 코드가 실행이 된다.</li><li>이 때 다음 순서인 두 번째 순서의 코드는 실행이 되지 않는다. 그 대신 첫 번째 순서의 코드의 실행이 완료될 때 까지 대기하게 된다.</li><li>일정 시간이 흐른 후 첫 번째 순서의 코드 실행이 완료되었다. 이제 두 번째 순서의 코드 실행이 시작된다.</li><li>똑같이 세 번째 순서의 코드는 실행이 되지 않고 자신 앞 순서의 코드 실행이 완료 될 때까지 대기한다.</li><li>쭉 반복</li></ol><p>이렇게 작동하는 것이 동기적인 작동 방식인데 실행의 <strong>요청</strong>에 의해 작업이 시작되고 <strong>응답</strong>이 오면 작업을 완료하고 종료시킨다. 그 후 다음 작업에 대해 실행을 시작한다.
자바스크립트 엔진의 call stack은 이 방식으로 javascript 코드를 실행한다.
하지만 그 순서가 조금은 특이한데 바로 first-in, last-out, 즉 선입후출 방식으로 진행된다.</p><p>말로 먼저 설명하자면 함수 호출의 코드를 엔진이 읽어 들이면 call stack에 쌓는다.
근데 방금 호출된 함수 안에는 또 다른 함수의 호출이 있다.
그럼 안에서 호출된 함수에 대응하여 그 함수의 실행을 call stack에 쌓는데 이때는 처음 쌓인 call stack 위에 쌓인다.
안에서 호출된 함수 내부에는 또 다른 함수 호출이 없다. 그래서 엔진은 call stack에 쌓인
함수들을 실행하려 하는데 이 때 늦게 들어온 순서대로 코드실행을 진행한다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="22-예제">2.2. 예제<a href="#22-예제" class="hash-link" aria-label="2.2. 예제에 대한 직접 링크" title="2.2. 예제에 대한 직접 링크">​</a></h2><p>말로하니 역시나 어렵다. 다음 예제로 살펴보자.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">const funcOne =() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  2️⃣console.log("No.1")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  3️⃣funcTwo()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const funcTwo =() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  4️⃣console.log("No.2")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  5️⃣funcThree()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const funcThree =()=&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  6️⃣console.log("No.3")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1️⃣funcOne()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 결과값</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">'No.1'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">'No.2'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">'No.3'</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>위 코드는 중첩된 함수에 대한 예제이다. 실제로 호출이 되면 call stack에 쌓이는 모습을 살펴보자.</p><p>위의 움짤처럼 쌓이고 위의 쌓인 순서대로 실행되고 실행이 완료되면 사라진다.
함수가 호출되어 call stack에 쌓이면 내부 코드를 순서대로 call stack에 쌓는걸 볼 수 있다.
그 후 함수 내부에 다른 함수의 호출이 존재하면 그 함수를 call stack에 쌓는데
그 함수가 실행이 완료되어 call stack에서 사라지기전에 외부함수의 실행도 완료되지 않는점을 명심하자.</p><h1>3. 비동기 함수와 자바스크립트 엔진</h1><p>javascrit 엔진 V8이 자바스크립트 코드를 실행하는 과정을 보면 정말 똑똑하다.
(실제로 공식 문서를 보면 매번 업데이트에 성능 향상과 최적화에 엄청 공을 들인다.)
성능적으로도 똑똑하지만 (컴퓨터도, 인터넷도 성능이 뛰어난 요즘시대이기에 처음 자바스크립트를 실행시켰을 때
나는 동기적으로 한번에 실행된다고 느꼈다. 하지만 정말 미묘하게 아~주 미묘하게 순서대로 실행되는 것이였다.) 브라우저애서 실행 된다는 점에서 JIT방식으로 실행을 하기 때문에 코드을 읽어 들어와 연산하여 인식하는 과정은 조금 불안정할 수 도 있다.
그렇기 때문에 동기적인 방식으로 실행하는 것 같다는 느낌이 든다.
순차대로 적은 코드들에 대해 순서를 보장해 주는 것이다.
그래서 자바스크립트 엔진을 어느 정도 (아주 조금이지만) 파해쳐보니
조금 더 효율적이고 나은 코드 작성을 준수해야 되겠다는 생각이 크게 든다.
(hoisting, execution context, lexical closure 등과 함께 날잡고 정리해야겠다.)</p><p>하지만 자바스크립트 엔진이 아무리 최적화하여 똑똑하게 실행을 처리한다고 한들 순서가 보장되지 못하는 경우가 발생하기도 한다. 바로 비동기 함수다.
간단하게 비동기 함수는 자바스크립트의 원칙, 실행 순서를 보장 받는다,를 깨고 비동기로 처리된다. 즉 순서를 보장받지 못하고 뒤로 밀리게 된다.
그럼 비동기 함수는 무엇이며 자바스크립트 엔진은 왜 이런식으로 처리하는 것일까?</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="31-비동기-함수">3.1. 비동기 함수<a href="#31-비동기-함수" class="hash-link" aria-label="3.1. 비동기 함수에 대한 직접 링크" title="3.1. 비동기 함수에 대한 직접 링크">​</a></h2><p>대표적인 비동기 함수는 <strong>DOM 이벤트</strong> <strong>API요청</strong> <strong>setTimeout</strong>같은 내장 함수들이 있다.
setTimeout으로 대표되는 DOM API, fetch 등으로 대표되는 XMLHttpRequest 등의 AJAX 등이 바로 비동기로 처리되는 대표적인 함수들이다.
그런데 이들의 위치가 조금 생소하다. 이 형태를 javascript runtime의 모습으로 살펴보자.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="32-javascript-runtime">3.2. Javascript Runtime<a href="#32-javascript-runtime" class="hash-link" aria-label="3.2. Javascript Runtime에 대한 직접 링크" title="3.2. Javascript Runtime에 대한 직접 링크">​</a></h2><p>자바스크립트 엔진에는 memory heap이라는 공간도 존재한다.
설명상으로는 변수와 객체에 대한 모든 메모리 할당이 이루어 지는 곳이라고 하는데
조금 더 리서치가 필요한 부분이다.
하지만 이번 자바스크립트의 코드 실행 방식에는 큰 영향을 주는 것 같지 않다. (그래서 넘어가겠다는 소리)</p><p>어찌돼었던 이런 자바스크립트의 실행환경을 보면 엔진 밖에 <strong>Web API</strong>들이 모여있는 곳이 있다.
자바스크립트 엔진이 제공하는 것이 아닌 브라우저에서 제공해주는 것이다.
다시 말해 이들은 다른 누군가에 의해 정의되고 브라우저에 내장된 내장함수라고 생각해도 무관한데 이들은 <strong>비동기 함수</strong>이고 브라우저에 위치하고 있다.</p><p>다른말로는 자바스크립트 엔진이 콜스텍에 쌓고 실행을 처리하는 함수는<strong>우리가 자바스크립트라는 언어로 작성한 커스텀 함수다.</strong></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="33-자바스크립트-엔진의-코드-처리-방식">3.3. 자바스크립트 엔진의 코드 처리 방식<a href="#33-자바스크립트-엔진의-코드-처리-방식" class="hash-link" aria-label="3.3. 자바스크립트 엔진의 코드 처리 방식에 대한 직접 링크" title="3.3. 자바스크립트 엔진의 코드 처리 방식에 대한 직접 링크">​</a></h2><p>자바스크립트 엔진은 자바스크립트로 작성된 코드들의 실행을 담당한다.
물론 실행을 하기 위해 머신코드로 변환하는 작업을 거치긴 하지만 지금은 논외로 해보자.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="331-일반적인-코드-처리">3.3.1. 일반적인 코드 처리<a href="#331-일반적인-코드-처리" class="hash-link" aria-label="3.3.1. 일반적인 코드 처리에 대한 직접 링크" title="3.3.1. 일반적인 코드 처리에 대한 직접 링크">​</a></h3><p>자바스크립트로 작성된 코드는 순차적으로 call stack에 쌓이게 된다.
call stack에 쌓이는 순간은 바로 코드가 해당 코드를 실행시키도록 작성되어있을 때 이다.
즉 자바스크립트 엔진은 call stack에 코드를 실행하라고 <strong>요청</strong>을 보내고 그 요청이 call stack에 쌓이는 것이다.
그러면 call stack에서는 해당 코드에 대한 작업을 하고 완료되면 <strong>응답</strong>을 보내 call stack에서 빼버린다.
명심해야 할 것은 코드 작업의 실행과정은 <strong>요청</strong>과 <strong>응답</strong> 이라는 것이다.
하나의 코드 실행은 <strong>요청</strong>에 의해 작업이 시작되고 완료되어 <strong>응답</strong>이 오면 비로소 <strong>완료</strong>되어 사라지는 것이다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="332-비동기-함수-처리">3.3.2. 비동기 함수 처리<a href="#332-비동기-함수-처리" class="hash-link" aria-label="3.3.2. 비동기 함수 처리에 대한 직접 링크" title="3.3.2. 비동기 함수 처리에 대한 직접 링크">​</a></h3><p>만약 우리가 Web API 작업을 포함하는 함수를 자바스크립트로 작성하고 실행시킨다고 가정해보면
call stack에 쌓고 실행 요청을 보낸다.
함수 내부를 살펴보니 Web API를 실행해야하는데 자바스크립트 엔진내에 존재하는 함수가 아니다.
그러면 자바스크립트는 이 실행을 본인 내부에서 하지 않고 Web API가 있는곳에 그에 관련한 요청을 보낸다.
요청에 대한 <strong>응답</strong>으로 필요한 다른 <strong>응답</strong>에 대해 다른곳에 <strong>요청</strong>을 보내는 것이다.
그 요청을 비동기 함수의 callback함수와 같이 보낸다.
브라우저는 <strong>요청</strong>에 대한 <strong>응답</strong>으로 callback함수를 보내오는데 그 응답을 call stack에서 처리한다. 그러면 예제의 실행은 <strong>완료</strong>되는데 자바스크립트는 비동기 함수를 조금 특이하게 처리한다.</p><p>앞서 call stack에 요청된 Web API의 실행은 call stack에서 하지 않고 Web API에 위임한다고 했다.
이때 call stack에서는 해당 요청을 사라진다. 즉 해당 요청에 대한 응답을 본인이 처리하지 않기에 브라우저에 요청을 보내고 해당 작업에 대한 모든 정보를, 즉 callback을 call stack에서는 Web API쪽으로 함께 보내버리는 것이다.(위임)
그렇기 때문에 같이 보내진 콜백 함수는 순서를 보장 받기도 전에 다른 곳에 위임이 되어버린다.</p><p>하지만 브라우저는 Web API 실행 요청에 대한 응답으로 callback 함수를 보내고 그 함수를 다시 call stack에서 처리한다고 하지 않았는가?
브라우저의 응답으로 온 callback 함수를 실행하라고 call stack에 요청하고 쌓는다.
이때는 제대로 실행 순서를 보장받는다.</p><p>쉽게 말해 어린아이가 귤을 먹고 싶은데 (call stack에 요청) 껍질을 본인이 깔 수 없어 엄마한테 껍질을 까달라고 요청하고 (Web API 요청 with callback)
그 요청의 응답으로 알맹이가 돌아오고 (콜백) 그 알맹이를 먹을 수 있게 (call stack에서 실행) 되는 것이다.</p><p>그렇기 때문에 call stack은 본인이 수행할 수 있는 요청이 아니기에 브라우저에 껍대기를 까달라고 요청과 함께 비동기 함수안에 정의된 callback 함수도 함께 보낸다.
(API 함수에 대한 실행요청으로 실행하려 했지만 실행을 하지도 않고 다른곳으로 위임한다.
그리고 내부에 정의된 콜백함수는 순서를 배정받기도 전에 같이 보내지는 것이다.)
그 후 브라우저에서 껍대기를 까고 알맹이를 돌려주면 (callback 함수) 다시 call stack에서 실행을 요청하고 연산 후 응답으로 보내주면 실행을 완료하고 call stack에서 사라진다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="333-callback-queue와-event-loop">3.3.3. callback queue와 event loop<a href="#333-callback-queue와-event-loop" class="hash-link" aria-label="3.3.3. callback queue와 event loop에 대한 직접 링크" title="3.3.3. callback queue와 event loop에 대한 직접 링크">​</a></h3><p>하지만 그 callback 함수가 call stack으로 들어가기전에 규칙이 있다.
Web API가 요청으로 응답을 보내주기까지 call stack은 기다리지 않고 다른 일을 순차적으로 동기적으로 처리한다.
아직 100개의 일이 call stack에서 처리되어야 한다고 가정해보자.
callback함수는 그 중간에 끼어들어 순서를 바꿔버릴까?
그렇게 되면 코드 실행은 엉창진창이 되버릴 것이다.
그래서 대신 callback queue라는 곳에서 기다린다. 일종의 유명한 식당에서 줄을 서며 기다리는 것이다. 이 callback queue에서 기다리가닥 들어온 순서대로 call stack으로 옮겨지는데
event loop라는 친구가 항상 call stack과 callback queue를 지켜보고 있다가 call stack이 비워지게 되면 callback queue에서 대기중인 함수 실행을 call stack을 보내 callback 함수를 실행하게 된다.
결국 call stack과 callback queue는 동기적으로 작동하는데 비동기 함수는 그 순서가 밀리는 것이다.</p><p>말로하니 역시 어렵다. 예제 코드를 작성하고 어떤 이동이 일어나는지 살펴보자.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let someVal = 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let API_EXAMPLE = ()=&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    setTimeout(function() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        someVal + 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },3000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return someVal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let someFinalVal = API_EXAMPLE() + 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(someFinalVal)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>콘솔창에 어떤 결과값이 찍힐까? 111? 아니면 101? 진행과정을 보고 한번 살펴보자.</p><p><img loading="lazy" alt="image" src="/blog/assets/images/test-18ae8c4b0e5a404bca076669945c4b02.gif" width="480" height="360" class="img_ev3q"></p><p><code>setTimeout</code>이라는 Web API는 비동기 방식으로 처리되었기 때문에<code>someVal</code>1에 10을 더하지 못한채 <code>API_EXAMPLE</code>함수 실행은 완료되었다.
그래서 결국 콘솔에 찍힐 <code>someFinalVal</code>의 값은 1+100인 101이 되는 것이다.</p><p>이렇게 자바스크립트 엔진은 비동기 함수를 실행시킬 때 그 안에 작성된 콜백 함수를 Web API를 처리하는 곳으로 보내고 비동기 함수가 실행되는 동안 call stack에 보장된 순서대로 다음 함수들을 처리한다.
그 사이 비동기 함수가 연산을 마치면 같이 보내진 콜백 함수를 callback queue로 보내고
event loop가 지켜보고 있다가 call stack이 비워지면 콜백 함수를 call stack에 다시 밀어넣고 보장된 순서대로 실행 시키는 것이 바로 자바스크립트가 비동기 함수를 처리하는 방법이다.</p><p>비동기 함수가 어떻게 처리되는지 알아봤는데 왜 자바스크립트 엔진은 헷갈리게 브라우저 내장 함수들을 이렇게 처리하는지 이유에 대해서 알아보자.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="34-비동기-처리-방식의-이유">3.4. 비동기 처리 방식의 이유<a href="#34-비동기-처리-방식의-이유" class="hash-link" aria-label="3.4. 비동기 처리 방식의 이유에 대한 직접 링크" title="3.4. 비동기 처리 방식의 이유에 대한 직접 링크">​</a></h2><p>이유는 간단하게 blocking script를 방지하기 위해서다.
위의 예제에서 setTimeout라는 Web API를 사용했는데
이 함수는 지정된 시간이 지난 후 실행 되는 대표적인 비동기 함수다.
예제에 이 함수를 사용한 이유는 <code>fetch</code>나 <code>axios</code> 등으로 대표되는
서버와의 통신으로 데이터를 받아오는데 사용되는 Web API를 구현하기 위해서다.
만약 통신으로 데이터를 받아오는데 위 예제처럼 3초가 아니라 10분이 걸린다고 가정해보자.
그리고 이런 함수를 비동기가 아닌 동기로 처리한다고 가정해보자.</p><p>그러면 10분동안 아무것도 화면에 나오지 않을 것이다.
만약 통신으로 뉴스의 사진을 받아온다고 가정한다면 통신 다음에 실행되어야 할 코드들이
실행을 계속 기다리게 된다.
이것이 바로 <strong>blocking script</strong>다.
자바스크립트는 동기로 코드를 실행시키는데 한 코드에 소요 되는 시간이 너무 길기 때문에
그 코드 이후에 실행으로 순서를 부여받은 코드들은 10분을 더 기다려야 실행이 된다.</p><p>하지만 만약 비동기로 처리한다면 어떨까?
화면에는 사진만 나오지 않고 글은 보일 것이다.
그리고 유저는 10분뒤 사진을 받아볼 수 있을 것이다.</p><p>AJAX 요청이, 대표적으로, 비동기로 처리되는 이유는 웹 페이지에 필요한 리소스들을 대부분 서버로부터 전송받아 viw에 보여주기 때문이다.
그런데 이런 리소스들 때문에 스크립트가 막힌다면 페이지 자체를 보여줄 수 없기 때문이다.</p><h1>4. 이슈: 결론은 Promise다.</h1><p>이로 인해 발생하는 이슈는 무엇일까?
바로 위 예제와 같다.
만약 서버와의 통신으로 데이터를 받아와서 그 값을 재연산해서 최종값으로 사용하려 한다면
위의 예제처럼 "+10"이라는 재연산을 하지 못한채 값을 사용하게 된다.
그러면 어떻게 해야할까?
바로 Promise를 사용하는 것이다.
Promise는 비동기 함수를 동기적으로 처리할 수 있게 해주는 아주 대단한 친구다.
Promise에 대한 정리는 다음에 하도록 하겠다.</p><h1>5. 추가: Job Queue</h1><p>인터넷에서 재밌는 글을 읽었는데 바로 Job Queue에 관한 것이다.
먼저 다시 비동기 함수 작동방식을 살펴보면,
비동기 함수는 본인의 함수를 실행하고 콜백으로 넘겨진 콜백함수를 callback queue로 보낸다.
그리고 event loop가 call stack을 지켜보고 있다가 다 비워지면 callback queue에서
first-in, first-out 방식으로 call stack에 밀어 넣는다.
즉 다른 일반 함수의 실행이 모두 끝나야 비동기 함수가 실행 순서를 배부받고 보장받는 것인데
비동기 함수는 call stack 맨 끝부분에 추가된다고 봐도 무방하다.
그런데 이 job queue라는 재밌는 녀석은 비동기 함수한테 조금 더 빠른 순서를 제공한다.
물론 조건이 필요한데 그 조건은 비동기 함수가 실행되는 현재 함수가 끝나기전에 비동기 함수의 실행이 완료되면 현재 함수의 실행이 완료된 후 바로 실행되는 순서를 제공받는다.
다시 말해 다른 일반 함수들의 실행이 끝나 call stack이 비워지기 전에 순서를 제공받는 것이다.</p>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[다시 깃헙페이지로 이사갑니다.]]></title>
        <id>https://100milliongold.github.io/blog/post/2023/02/12/이사중/inde</id>
        <link href="https://100milliongold.github.io/blog/post/2023/02/12/이사중/inde"/>
        <updated>2023-02-12T18:14:58.000Z</updated>
        <summary type="html"><![CDATA[이사중]]></summary>
        <content type="html"><![CDATA[<h3 class="anchor anchorWithStickyNavbar_LWe7" id="이사중">이사중<a href="#이사중" class="hash-link" aria-label="이사중에 대한 직접 링크" title="이사중에 대한 직접 링크">​</a></h3><p>커스터마이징 하는겸 구글에 노출되기 위해서</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="할일">할일<a href="#할일" class="hash-link" aria-label="할일에 대한 직접 링크" title="할일에 대한 직접 링크">​</a></h3><ul class="contains-task-list containsTaskList_mC6p"><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->메인화면 제작</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->곳곳에 있는 자료들 통합</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->사이트 등록</li><li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->댓글 기능 개발</li></ul>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[NestJS 오류 TypeError 0 , cookie_parser_1.default is not a function]]></title>
        <id>https://100milliongold.github.io/blog/post/NestJS-오류-TypeError-0-cookieparser1.default-is-not-a-function</id>
        <link href="https://100milliongold.github.io/blog/post/NestJS-오류-TypeError-0-cookieparser1.default-is-not-a-function"/>
        <updated>2022-09-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[아래와 같은 오류를 만났다.]]></summary>
        <content type="html"><![CDATA[<p>아래와 같은 오류를 만났다.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Nest</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21927</span><span class="token plain">  - </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">. </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">. 09. 오후 </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">:38:42     LOG </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">InstanceLoader</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> TypeOrmCoreModule dependencies initialized +47ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Nest</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21927</span><span class="token plain">  - </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">. </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">. 09. 오후 </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">:38:42     LOG </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">InstanceLoader</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> TypeOrmModule dependencies initialized +1ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Nest</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21927</span><span class="token plain">  - </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">. </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">. 09. 오후 </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">:38:42     LOG </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">InstanceLoader</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> AuthModule dependencies initialized +0ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Nest</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21927</span><span class="token plain">  - </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">. </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">. 09. 오후 </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">:38:42     LOG </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">InstanceLoader</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> UsersModule dependencies initialized +1ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Nest</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">21927</span><span class="token plain">  - </span><span class="token number" style="color:#36acaa">2021</span><span class="token plain">. </span><span class="token number" style="color:#36acaa">11</span><span class="token plain">. 09. 오후 </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">:38:42     LOG </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">InstanceLoader</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> AppModule dependencies initialized +0ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/Users/xii/src/main.ts:28</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  app.use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cookieParser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">))</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                      ^</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TypeError: </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> , cookie_parser_1.default</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> is not a </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    at bootstrap </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">/Users/im-uchan/Desktop/~~~~~/src/main.ts:28:23</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    at processTicksAndRejections </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">node:internal/process/task_queues:96:5</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> cookieParser </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'cookie-parser'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">//...........</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">use</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">cookieParser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>import때문에 발생한 문제이다.</p><p>tsconfig.json에 들어가 <code>"esModuleInterop": true</code>를 추가해주자.</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"compilerOptions"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"module"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"commonjs"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"declaration"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"removeComments"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"emitDecoratorMetadata"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"experimentalDecorators"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"allowSyntheticDefaultImports"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"esModuleInterop"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 추가</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"target"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"es2017"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"sourceMap"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"outDir"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"./dist"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"baseUrl"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"./"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"incremental"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"skipLibCheck"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"strictNullChecks"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"noImplicitAny"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"strictBindCallApply"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"forceConsistentCasingInFileNames"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"noFallthroughCasesInSwitch"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>100milliongold</name>
            <uri>https://sebastienlorber.com</uri>
        </author>
        <category label="nest" term="nest"/>
        <category label="typescript" term="typescript"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Lombok을 이용해 Builder 패턴을 만들어보자.]]></title>
        <id>https://100milliongold.github.io/blog/post/2022/05/02/Lombok을-이용해-Builder-패턴을-만들어보자</id>
        <link href="https://100milliongold.github.io/blog/post/2022/05/02/Lombok을-이용해-Builder-패턴을-만들어보자"/>
        <updated>2022-05-02T01:18:58.000Z</updated>
        <summary type="html"><![CDATA[Builder 패턴이란?]]></summary>
        <content type="html"><![CDATA[<p>Builder 패턴이란?
출처 - Effective Java 규칙 2 - 조슈아 블로그</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">생성자에 인자가 많을 때는 빌더 패턴을 고려하라</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>빌더 패턴(Builder pattern) 이란 복합 객체의 생성 과정과 표현 방법을 분리하여 동일한 생성 절차에서 서로 다른 표현 결과를 만들 수 있게 하는 패턴이다. (출처: 위키백과)</p><p>난 생성자가 많아지면 빌더 패턴을 만드는 편인데, 개발자 성향에 따라 다를수도 있구나를 느꼈다.</p><p>빌더패턴을 활용하면 어떤 필드에 어떤 인자를 넣어줬는지 명확히 알 수 있고, 넣어줄 필요 없는 필드(null)는 굳이 선언할 필요 없으니 좋다고 생각했다. 근데 다른 분은 어떤 필드에 null이 들어간다는걸 명확히 볼 수 있는 점 때문에 생성자를 통해 객체를 생성하시는 방법을 택했다고 하셨다.</p><p>intelliJ는 들어갈 필드의 값을 표시해주는 기능이 있어서 생성자를 통해 객체를 생성해도 어떤 필드를 넣어줘야하는지 보인다. 첫 회사에서는 STS를 썼기 때문에 intelliJ의 다양한 기능적인 혜택을 누리지 못했기도 해서 빌더 패턴이 유용했다.</p><p>코틀린을 사용할 경우에는.... 굳이 빌더 패턴을 쓸 필요가 없을 것 같다 싶었던 이유가 생성자 인자에 필드 명도 함께 표기할 수 있다.</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    // 예시</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fun foo() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        val member = Member(name = "zorba", job = "developer")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>하지만, java를 쓸 때는 자주 사용하는 디자인 패턴이다.</p><p>빌더 패턴의 장점</p><ol><li><p>객체들마다 들어가야할 인자가 각각 다를 때 유연하게 사용할 수 있다.</p></li><li><p>무조건 setter 생성을 방지하고 불변객체로 만들 수 있다.</p></li><li><p>필수 argument를 지정할 수 있다.(보통의 경우, PK 역할을 할 Id 값이 될 것이다.)</p></li></ol><p>Builder 패턴은 어떻게 작성하나?
이 페이지를 들어가면 명확하게 빌더 패턴을 어떻게 작성해야하는지 알 수 있다. 빌더 패턴 예제코드</p><p>Java 사용자라면 잘 아는 StringBuilder가 이 빌더 패턴으로 작성된 라이브러리다.</p><p>근데 클래스를 만들 때마다 이 기나긴 코드를 짜기 불편하다!
그래서 Java 개발자들의 보일러플레이트 코드를 획기적으로 줄여준 라이브러리인 Lombok을 활용해보자.</p><p>바로 @Builder 애노테이션 을 사용하면 예제코드처럼 긴 코드를 작성하지 않아도 된다.</p><p>Builder 패턴을 적용할 클래스</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    @AllArgsConstructor(access = AccessLevel.PRIVATE)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Builder(builderMethodName = "travelCheckListBuilder")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ToString</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public class TravelCheckList {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private Long id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private String passport;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private String flightTicket;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private String creditCard;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private String internationalDriverLicense;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private String travelerInsurance;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public static TravelCheckListBuilder builder(Long id) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(id == null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                throw new IllegalArgumentException("필수 파라미터 누락");</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return travelCheckListBuilder().id(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>확인용 클래스</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    public class MainClass {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        public static void main(String[] args) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            // 빌더패턴을 통해 어떤 필드에 어떤 값을 넣어주는지 명확히 눈으로 확인할 수 있다!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            TravelCheckList travelCheckList = TravelCheckList.builder(145L)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .passport("M12345")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .flightTicket("Paris flight ticket")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .creditCard("Shinhan card")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .internationalDriverLicense("1235-5345")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .travelerInsurance("Samsung insurance")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    .build();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            System.out.println("빌더 패턴 적용하기 : " + travelCheckList.toString());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       // 결과</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       // 빌더 패턴 적용하기 : TravelCheckList(id=1, passport=M12345, flightTicket=Paris flight ticket, creditCard=Shinhan card, internationalDriverLicense=1235-5345, travelerInsurance=Samsung insurance)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>@AllArgsConstructor(access = AccessLevel.PRIVATE)</code> : @Builder 애노테이션을 선언하면 전체 인자를 갖는 생성자를 자동으로 만든다. @AllArgsConstructor는 전체 인자를 갖는 생성자를 만드는데, 접근자를 private으로 만들어서 외부에서 접근할 수 없도록 만든다.</p><p><code>@Builder</code> : 위에서 설명했던 Builder 패턴을 자동으로 생성해주는데, builderMethodName에 들어간 이름으로 빌더 메서드를 생성해준다. 나같은 경우, 혼동을 줄이기 위해 클래스 명과 동일하게 놔두고 Builder로 선언했다.</p><p>클래스 내부 builder 메서드 : 필수로 들어가야할 필드들을 검증하기 위해 만들었다. 꼭 id가 아니라도 해당 클래스를 객체로 생성할 때 필수적인 필드가 있다면 활용할 수 있다.</p><p>이렇게 Lombok을 활용하면 반복적으로 길게 짜야하는 코드(보일러 플레이트 코드)를 엄청나게 줄여줄 수 있다.</p><p>빌더 패턴을 사용하면서 무분별한 setter를 남용한다면.... 빌더패턴의 장점을 극대화해서 사용하는 건 아닌 것 같다.</p>]]></content>
        <author>
            <name>100milliongold</name>
            <uri>https://sebastienlorber.com</uri>
        </author>
        <category label="java" term="java"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[DTO를 이너 클래스로 관리하기]]></title>
        <id>https://100milliongold.github.io/blog/post/DTO를-이너-클래스로-관리하기</id>
        <link href="https://100milliongold.github.io/blog/post/DTO를-이너-클래스로-관리하기"/>
        <updated>2022-05-02T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[DTO를 도메인의 이너 클래스로 관리해, DTO 관리 편의성을 높여봅니다.]]></summary>
        <content type="html"><![CDATA[<blockquote><p>DTO를 도메인의 이너 클래스로 관리해, DTO 관리 편의성을 높여봅니다.</p></blockquote><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="goal">Goal<a href="#goal" class="hash-link" aria-label="Goal에 대한 직접 링크" title="Goal에 대한 직접 링크">​</a></h2><ul><li>DTO를 이너클래스로 관리해 개발 편의성을 올려봅니다.</li><li>도메인 클래스안에 DTO를 이너클래스로 두는것이 설계상 괜찮은지에 대해서 고민해봅니다.</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="요청별로-dto를-외부-클래스로-나누어-관리하는-경우">요청별로 DTO를 외부 클래스로 나누어 관리하는 경우<a href="#요청별로-dto를-외부-클래스로-나누어-관리하는-경우" class="hash-link" aria-label="요청별로 DTO를 외부 클래스로 나누어 관리하는 경우에 대한 직접 링크" title="요청별로 DTO를 외부 클래스로 나누어 관리하는 경우에 대한 직접 링크">​</a></h2><blockquote><p>너무 많은 DTO 클래스가 생겨 관리가 힘들어질 수 있습니다.</p></blockquote><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Getter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@NoArgsConstructor(access = AccessLevel.PROTECTED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Member {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @GeneratedValue(strategy = GenerationType.IDENTITY)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Long id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Member(final String name) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>만약 <strong>Member</strong>라는 도메인 클래스가 있다고 해봅시다.</li></ul><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Getter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@AllArgsConstructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@NoArgsConstructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MemberCreateRequest {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Getter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@AllArgsConstructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MemberCreateResponse {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Long id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>이때 Member를 create하는 기능이 필요할시, <code>MemberCreateRequest</code>, <code>MemberCreateResponse</code> 벌써 두개의 DTO 클래스가 필요해집니다.</li><li>지금은 단순히 2개이지만, 여러 DTO가 계속 필요해지는 상황이 온다면 <code>MemberxxxRequest</code> 이런 DTO 클래스가 점점 늘어나게 되어 DTO를 선별하고 구분하는데 인적 리소스가 소모되게 될것입니다.</li></ul><p><img loading="lazy" src="/blog/assets/images/image-dd39baadac68ed47c9996c88b56c35fa.png" width="412" height="916" class="img_ev3q"></p><blockquote><p>과거 진행한 프로젝트의 수많은 DTO 클래스들...</p></blockquote><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dto를-이너-클래스로-관리">DTO를 이너 클래스로 관리<a href="#dto를-이너-클래스로-관리" class="hash-link" aria-label="DTO를 이너 클래스로 관리에 대한 직접 링크" title="DTO를 이너 클래스로 관리에 대한 직접 링크">​</a></h2><blockquote><p>DTO를 관리하는 (인적)비용이 줄어듭니다.  </p></blockquote><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@Getter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@NoArgsConstructor(access = AccessLevel.PROTECTED)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class Member {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @GeneratedValue(strategy = GenerationType.IDENTITY)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private Long id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public Member(final String name) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.name = name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Getter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @AllArgsConstructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @NoArgsConstructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static class Request {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Getter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @AllArgsConstructor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public static class Response {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private Long id;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        private String name;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>위처럼 이너 클래스를 이용해, Member안에 Request와 Response DTO를 가지게 있게 한다면 어떻게 될까요.</li><li>Member 클래스만 보고 관련된 DTO를 빠르게 찾을 수 있게되어, 인적 리소스가 줄어들고 개발의 편의성이 늘어나게 됩니다.</li></ul><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RestController</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping("/api/member")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MemberController {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @GetMapping("/{id}")</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ResponseEntity&lt;Member.Response&gt; getMember(@PathVariable final Long id) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ResponseEntity.ok(new Member.Response(id, "unluckyjung"));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @PostMapping</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ResponseEntity&lt;Member.Response&gt; create(@RequestBody final Member.Request request) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //...저장 로직</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return ResponseEntity.created(URI.create(String.format("/api/member/%d", 1L)))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                .body(new Member.Response(1L, request.getName()));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>이너클래스를 요청, 응답을 처리하는 컨트롤러 예제를 간단하게 작성하면, 위와 같이 구현할 수 있게 됩니다.</li><li>(위 예제가 실제 개발에서 적용되는 방식은 아닙니다. 단순히 이해를 쉽기 위해서 작성한 예제일 뿐입니다.)</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="고민되는-사항">고민되는 사항<a href="#고민되는-사항" class="hash-link" aria-label="고민되는 사항에 대한 직접 링크" title="고민되는 사항에 대한 직접 링크">​</a></h2><blockquote><p>도메인이 DTO의 형태를 알고 있게 되는건 아닐까? 둘의 결합도가 높아지는건 아닐까?   </p></blockquote><ul><li>DTO를 도메인 객체와 분리해서 사용하는 이유는, <strong>DTO는 변경이 찾지만 도메인 객체는 그렇지 않습니다.</strong> 따라서 도메인을 DTO로 사용하는것은 변경이 잦은 형태에 의존성을 띠고 있는 형태가 되어, 올바르지 못한 설계가 되기때문에 도메인과 DTO 두개를 분리하는것 입니다.</li><li>하지만, 위와같이 도메인(엄밀하게 따지면 엔티티이지만, 도메인으로 하겠습니다.) 객체가 DTO를 이너클래스로 가지고 있는 형태는 <strong>도메인이 DTO를 알고 있는 형태가 되어, 잘못된 설계가 아닌가?</strong> 라는 생각이 순간들었습니다.</li></ul><blockquote><p><strong>결론적으로는 위의 예시와같은 형태는 괜찮다라고 생각합니다.</strong>  </p></blockquote><ul><li>의존성을 띠고 있는 형태라 함은 Domain <strong>객체의 로직에 DTO가 영향</strong>을 주게 되는것을 뜻하는것이라고 생각합니다.</li><li>하지만 위와 같은 이너클래스 형태는 단순히 도메인 클래스안에 DTO 클래스를 들고만 있지, DTO 와 <strong>도메인의 로직에는 전혀 영향이 없는 형태</strong>입니다. 즉 로직이나 상태에 따른 의존성이 있는 형태는 아닌거죠.</li><li><code>도메인 &lt;-&gt; DTO</code> 끼리 연관이 생긴다는것보다는, 해당 도메인과 관련된 DTO를 같이 묶어두기 위한 정도인거죠.</li><li>즉, 편의성을 위해서 도메인내에 이너 클래스를 묶어서 사용하는것이기 때문에 다른 시야로 봐야한다고 결론 내렸습니다.</li><li><strong>물론 여러 도메인들이 합쳐져서 만들어지는 DTO 라면, 한 도메인의 이너클래스로 DTO를 사용하면 안되겠죠.</strong></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="장점">장점<a href="#장점" class="hash-link" aria-label="장점에 대한 직접 링크" title="장점에 대한 직접 링크">​</a></h3><blockquote><p>응집도가 높아지는 효과가 있습니다.  </p></blockquote><ul><li>위에서 말한 <strong>여러 도메인들이 합쳐져서 만들어지는 DTO 는 이너클래스로 사용하지 않는다.</strong> 라는 룰을 지킨다면</li><li>개발자 입장에서 이너클래스의 DTO를 보았을때 이너 클래스 DTO는 해당 클래스 안에서만 한정적으로 사용한다는 의미를 부여할 수 있어, 응집력이 높아지고 개발자들이 신경써야 하는 외부클래스의 개수가 줄어들어 개발 편의성을 높이는 효과를 나타낼 수 있다고 생각합니다.</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Conclusion에 대한 직접 링크" title="Conclusion에 대한 직접 링크">​</a></h2><ul><li>이너클래스를 이용해 DTO 관리의 편의성을 높일 수 있다.</li><li>하지만 이너클래스로 만들어진 DTO는, 속해 있는 도메인 클래스로만 구성되는 경우에 사용해야한다.</li></ul><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reference">Reference<a href="#reference" class="hash-link" aria-label="Reference에 대한 직접 링크" title="Reference에 대한 직접 링크">​</a></h2><ul><li><a href="https://www.inflearn.com/questions/47205" target="_blank" rel="noopener noreferrer">https://www.inflearn.com/questions/47205</a></li><li><a href="https://velog.io/@ausg/Spring-Boot%EC%97%90%EC%84%9C-%EA%B9%94%EB%81%94%ED%95%98%EA%B2%8C-DTO-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0" target="_blank" rel="noopener noreferrer">https://velog.io/@ausg/Spring-Boot%EC%97%90%EC%84%9C-%EA%B9%94%EB%81%94%ED%95%98%EA%B2%8C-DTO-%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="출처">출처<a href="#출처" class="hash-link" aria-label="출처에 대한 직접 링크" title="출처에 대한 직접 링크">​</a></h2><p><a href="https://unluckyjung.github.io/dev/2022/02/20/Dto-InnerClass/" target="_blank" rel="noopener noreferrer">DTO를 inner class로 관리하기
(https://unluckyjung.github.io/dev/2022/02/20/Dto-InnerClass/)</a></p>]]></content>
        <author>
            <name>100milliongold</name>
            <uri>https://sebastienlorber.com</uri>
        </author>
        <category label="java" term="java"/>
    </entry>
</feed>